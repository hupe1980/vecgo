goos: darwin
goarch: arm64
pkg: github.com/hupe1980/vecgo/benchmark_test
cpu: Apple M4 Pro
BenchmarkAdversarialSearch/uniform_128d_50k/sel=1%-14  	    1885	    122082 ns/op	      8191 qps	         1.000 recall@10	    5459 B/op	      82 allocs/op
BenchmarkAdversarialSearch/uniform_128d_50k/sel=10%-14 	     982	    236365 ns/op	      4231 qps	         1.000 recall@10	    6104 B/op	      82 allocs/op
BenchmarkAdversarialSearch/uniform_128d_50k/sel=50%-14 	     410	    581643 ns/op	      1719 qps	         1.000 recall@10	    7007 B/op	      82 allocs/op
BenchmarkAdversarialSearch/zipfian_128d_50k/sel=1%-14  	     422	    551031 ns/op	      1815 qps	         1.000 recall@10	    6963 B/op	      82 allocs/op
BenchmarkAdversarialSearch/zipfian_128d_50k/sel=10%-14 	     318	    736720 ns/op	      1357 qps	         1.000 recall@10	    7459 B/op	      82 allocs/op
BenchmarkAdversarialSearch/zipfian_128d_50k/sel=50%-14 	     308	    769552 ns/op	      1299 qps	         1.000 recall@10	    7523 B/op	      82 allocs/op
BenchmarkAdversarialSearch/seglocal_128d_50k/sel=1%-14 	    1249	    189720 ns/op	      5271 qps	         1.000 recall@10	    5965 B/op	      82 allocs/op
BenchmarkAdversarialSearch/seglocal_128d_50k/sel=10%-14         	     266	    893405 ns/op	      1119 qps	         1.000 recall@10	    7847 B/op	      82 allocs/op
BenchmarkAdversarialSearch/seglocal_128d_50k/sel=50%-14         	     266	    912127 ns/op	      1096 qps	         1.000 recall@10	    7847 B/op	      82 allocs/op
BenchmarkAdversarialSearch/correlated_128d_50k/sel=1%-14        	    1994	    122416 ns/op	      8169 qps	         1.000 recall@10	    5459 B/op	      82 allocs/op
BenchmarkAdversarialSearch/correlated_128d_50k/sel=10%-14       	     952	    243267 ns/op	      4111 qps	         1.000 recall@10	    6124 B/op	      82 allocs/op
BenchmarkAdversarialSearch/correlated_128d_50k/sel=50%-14       	     405	    580839 ns/op	      1722 qps	         1.000 recall@10	    5472 B/op	      82 allocs/op
BenchmarkAdversarialSearch/booladv_128d_50k/sel=1%-14           	    1959	    122786 ns/op	      8144 qps	         1.000 recall@10	    5780 B/op	      82 allocs/op
BenchmarkAdversarialSearch/booladv_128d_50k/sel=10%-14          	     906	    259464 ns/op	      3854 qps	         1.000 recall@10	    6158 B/op	      82 allocs/op
BenchmarkAdversarialSearch/booladv_128d_50k/sel=50%-14          	     304	    769110 ns/op	      1300 qps	         1.000 recall@10	    5477 B/op	      82 allocs/op
BenchmarkSegmentLocalSkew/global_1pct_local_90pct-14            	    1222	    193179 ns/op	      5177 qps	    5976 B/op	      82 allocs/op
BenchmarkCorrelatedVectors/sel=1%-14                            	    1930	    122645 ns/op	      8154 qps	    5785 B/op	      82 allocs/op
BenchmarkCorrelatedVectors/sel=10%-14                           	     981	    244681 ns/op	      4087 qps	    6104 B/op	      82 allocs/op
BenchmarkCorrelatedVectors/sel=50%-14                           	     405	    584462 ns/op	      1711 qps	    7029 B/op	      82 allocs/op
BenchmarkBooleanAdversarial/simple_filter-14                    	    1894	    124640 ns/op	      8023 qps	    5791 B/op	      82 allocs/op
BenchmarkBooleanAdversarial/range_filter-14                     	     302	    803535 ns/op	      1245 qps	    8708 B/op	      95 allocs/op
BenchmarkBooleanAdversarial/multi_field_and-14                  	     890	    262081 ns/op	      3816 qps	    7314 B/op	      95 allocs/op
BenchmarkDistributionComparison/uniform-14                      	    1947	    123775 ns/op	      8079 qps	         1.000 recall@10	    5783 B/op	      82 allocs/op
BenchmarkDistributionComparison/zipfian-14                      	     416	    563147 ns/op	      1776 qps	         1.000 recall@10	    6988 B/op	      82 allocs/op
BenchmarkDistributionComparison/seglocal-14                     	    1302	    190923 ns/op	      5238 qps	         1.000 recall@10	    5944 B/op	      82 allocs/op
BenchmarkDistributionComparison/correlated-14                   	    1959	    123173 ns/op	      8119 qps	         1.000 recall@10	    5780 B/op	      82 allocs/op
BenchmarkDistributionComparison/booladv-14                      	    1906	    123891 ns/op	      8072 qps	         1.000 recall@10	    5793 B/op	      82 allocs/op
BenchmarkCompaction_Pressure-14                                 	    7107	     44738 ns/op	  139281 B/op	      15 allocs/op
BenchmarkFastSearch/uniform_128d_10k/nofilter-14                	    2749	     92104 ns/op	     10857 qps	    2119 B/op	      11 allocs/op
BenchmarkFastSearch/uniform_128d_10k/sel=1%-14                  	    8856	     27178 ns/op	     36795 qps	         1.000 recall@10	    2096 B/op	      22 allocs/op
BenchmarkFastSearch/uniform_128d_10k/sel=5%-14                  	    5642	     40390 ns/op	     24758 qps	         1.000 recall@10	    2208 B/op	      22 allocs/op
BenchmarkFastSearch/uniform_128d_10k/sel=10%-14                 	    4425	     52246 ns/op	     19140 qps	         1.000 recall@10	    2239 B/op	      22 allocs/op
BenchmarkFastSearch/uniform_128d_10k/sel=50%-14                 	    2001	    119580 ns/op	      8363 qps	         1.000 recall@10	    2413 B/op	      22 allocs/op
BenchmarkFastSearch/uniform_128d_10k/sel=90%-14                 	    1322	    182436 ns/op	      5481 qps	         1.000 recall@10	    2577 B/op	      22 allocs/op
BenchmarkFastSearch/zipfian_128d_10k/nofilter-14                	    2724	     90088 ns/op	     11100 qps	    1490 B/op	      11 allocs/op
BenchmarkFastSearch/zipfian_128d_10k/sel=1%-14                  	    2173	    106792 ns/op	      9364 qps	         1.000 recall@10	    2388 B/op	      22 allocs/op
BenchmarkFastSearch/zipfian_128d_10k/sel=5%-14                  	    1659	    144641 ns/op	      6914 qps	         1.000 recall@10	    2479 B/op	      22 allocs/op
BenchmarkFastSearch/zipfian_128d_10k/sel=10%-14                 	    1534	    152617 ns/op	      6552 qps	         1.000 recall@10	    2510 B/op	      22 allocs/op
BenchmarkFastSearch/zipfian_128d_10k/sel=50%-14                 	    1486	    159098 ns/op	      6285 qps	         1.000 recall@10	    2100 B/op	      22 allocs/op
BenchmarkFastSearch/zipfian_128d_10k/sel=90%-14                 	    1543	    160267 ns/op	      6240 qps	         1.000 recall@10	    2508 B/op	      22 allocs/op
BenchmarkFastBatchSearch/batch=1-14                             	    2341	     97496 ns/op	     10257 qps	    9971 B/op	      58 allocs/op
BenchmarkFastBatchSearch/batch=10-14                            	     829	    287435 ns/op	     34791 qps	  103043 B/op	     545 allocs/op
BenchmarkFastBatchSearch/batch=50-14                            	     247	    955169 ns/op	     52347 qps	  498473 B/op	    2691 allocs/op
BenchmarkFastBatchSearch/batch=100-14                           	     132	   1801560 ns/op	     55507 qps	 1001738 B/op	    5378 allocs/op
BenchmarkFastConcurrentSearch/goroutines=1-14                   	   14436	     16558 ns/op	     60395 qps	    1488 B/op	      11 allocs/op
BenchmarkFastConcurrentSearch/goroutines=2-14                   	   14558	     16527 ns/op	     60508 qps	    1488 B/op	      11 allocs/op
BenchmarkFastConcurrentSearch/goroutines=4-14                   	   14312	     16379 ns/op	     61055 qps	    1489 B/op	      11 allocs/op
BenchmarkFastConcurrentSearch/goroutines=8-14                   	   14545	     16356 ns/op	     61141 qps	    1490 B/op	      11 allocs/op
BenchmarkFastFiltered/uniform_128d_10k/sel=1%-14                	    8236	     28042 ns/op	     35661 qps	    2173 B/op	      22 allocs/op
BenchmarkFastFiltered/uniform_128d_10k/sel=5%-14                	    5966	     41314 ns/op	     24205 qps	    2097 B/op	      22 allocs/op
BenchmarkFastFiltered/uniform_128d_10k/sel=10%-14               	    4371	     53140 ns/op	     18818 qps	    2241 B/op	      22 allocs/op
BenchmarkFastFiltered/uniform_128d_10k/sel=30%-14               	    2655	     90543 ns/op	     11045 qps	    2335 B/op	      22 allocs/op
BenchmarkFastFiltered/uniform_128d_10k/sel=50%-14               	    1932	    121830 ns/op	      8208 qps	    2425 B/op	      22 allocs/op
BenchmarkFastFiltered/uniform_128d_10k/sel=90%-14               	    1304	    185800 ns/op	      5382 qps	    2583 B/op	      22 allocs/op
BenchmarkFastFiltered/zipfian_128d_10k/sel=1%-14                	    2203	    107087 ns/op	      9338 qps	    2384 B/op	      22 allocs/op
BenchmarkFastFiltered/zipfian_128d_10k/sel=5%-14                	    1636	    147534 ns/op	      6778 qps	    2484 B/op	      22 allocs/op
BenchmarkFastFiltered/zipfian_128d_10k/sel=10%-14               	    1569	    154044 ns/op	      6492 qps	    2100 B/op	      22 allocs/op
BenchmarkFastFiltered/zipfian_128d_10k/sel=30%-14               	    1513	    159810 ns/op	      6257 qps	    2516 B/op	      22 allocs/op
BenchmarkFastFiltered/zipfian_128d_10k/sel=50%-14               	    1501	    161377 ns/op	      6197 qps	    2519 B/op	      22 allocs/op
BenchmarkFastFiltered/zipfian_128d_10k/sel=90%-14               	    1525	    162823 ns/op	      6142 qps	    2513 B/op	      22 allocs/op
BenchmarkFastDimensions/dim=128-14                              	    2630	     89986 ns/op	     11113 qps	    2279 B/op	      11 allocs/op
BenchmarkHybridSearch/VectorOnly-14                             	     529	    450767 ns/op	         1.000 recall@10	   11920 B/op	      55 allocs/op
BenchmarkHybridSearch/Hybrid-14                                 	     460	    516411 ns/op	         1.000 recall@10	   53678 B/op	     168 allocs/op
BenchmarkHybridSearch/LexicalOnly-14                            	    6763	     35241 ns/op	         1.000 recall@10	     913 B/op	       3 allocs/op
BenchmarkInsert/dim=128-14                                      	   10000	    160179 ns/op	      6243 vectors/sec	   37623 B/op	       5 allocs/op
BenchmarkInsert/dim=768-14                                      	   10000	    127382 ns/op	      7850 vectors/sec	  113782 B/op	       6 allocs/op
BenchmarkInsert/dim=1536-14                                     	    8358	     35191 ns/op	     28417 vectors/sec	  235426 B/op	       9 allocs/op
BenchmarkBatchInsert/batch=10-14                                	    4454	    652812 ns/op	        10.00 batch_size	     15318 vectors/sec	 1181224 B/op	     125 allocs/op
BenchmarkBatchInsert/batch=100-14                               	     100	   3881835 ns/op	       100.0 batch_size	     25761 vectors/sec	10378099 B/op	     801 allocs/op
BenchmarkBatchInsert/batch=1000-14                              	     100	  66505296 ns/op	      1000 batch_size	     15036 vectors/sec	74917361 B/op	    7041 allocs/op
BenchmarkDeferredInsert/n=1000-14                               	     135	   1757583 ns/op	    568963 vectors/sec	42559007 B/op	    2214 allocs/op
BenchmarkDeferredInsert/n=10000-14                              	      52	   4909017 ns/op	   2037068 vectors/sec	43293504 B/op	   20534 allocs/op
BenchmarkConcurrentInsert/goroutines=1-14                       	   10000	     44649 ns/op	     22397 vectors/sec	  117045 B/op	       8 allocs/op
BenchmarkConcurrentInsert/goroutines=2-14                       	   10000	     38978 ns/op	     25656 vectors/sec	  115905 B/op	       8 allocs/op
BenchmarkConcurrentInsert/goroutines=4-14                       	   10000	     33345 ns/op	     29989 vectors/sec	  106129 B/op	       8 allocs/op
BenchmarkConcurrentInsert/goroutines=8-14                       	   10000	     33343 ns/op	     29991 vectors/sec	  106955 B/op	       8 allocs/op
BenchmarkLatencyPercentiles-14                                  	1000000000	         0.1271 ns/op	        88.00 P50_μs	        92.00 P95_μs	       103.0 P99.9_μs	        94.00 P99_μs	       0 B/op	       0 allocs/op
BenchmarkLatencyUnderLoad/conc=1-14                             	1000000000	         0.04591 ns/op	        90.00 P50_μs	       103.0 P95_μs	       123.0 P99_μs	       0 B/op	       0 allocs/op
BenchmarkLatencyUnderLoad/conc=2-14                             	1000000000	         0.04754 ns/op	        94.00 P50_μs	       105.0 P95_μs	       113.0 P99_μs	       0 B/op	       0 allocs/op
BenchmarkLatencyUnderLoad/conc=4-14                             	1000000000	         0.04802 ns/op	        94.00 P50_μs	       111.0 P95_μs	       122.0 P99_μs	       0 B/op	       0 allocs/op
BenchmarkLatencyUnderLoad/conc=8-14                             	1000000000	         0.07033 ns/op	       115.0 P50_μs	       232.0 P95_μs	       289.0 P99_μs	       0 B/op	       0 allocs/op
BenchmarkMemoryFootprint/dim=128/n=10000-14                     	       1	 381916709 ns/op	     15480 bytes/vec	        30.23 overhead_ratio	       512.0 raw_bytes/vec	276152688 B/op	   68469 allocs/op
BenchmarkIndexBuildTime/dim=128/n=10000-14                      	       1	 400890875 ns/op	     24944 vecs/sec	274570832 B/op	   58268 allocs/op
BenchmarkColdStart-14                                           	       1	 288723958 ns/op	        12.00 cold_start_ms	       183.0 first_query_μs	        12.00 open_ms	696513840 B/op	  898654 allocs/op
BenchmarkRecallQPSTradeoff/k=1-14                               	    2667	     92703 ns/op	     10787 qps	         0 recall	     690 B/op	      11 allocs/op
BenchmarkRecallQPSTradeoff/k=5-14                               	    2611	     89611 ns/op	     11159 qps	         0.01600 recall	    1042 B/op	      11 allocs/op
BenchmarkRecallQPSTradeoff/k=10-14                              	    2486	     90287 ns/op	     11076 qps	         0.01000 recall	    1490 B/op	      11 allocs/op
BenchmarkRecallQPSTradeoff/k=20-14                              	    2296	     98299 ns/op	     10173 qps	         0.01800 recall	    2386 B/op	      11 allocs/op
BenchmarkRecallQPSTradeoff/k=50-14                              	    1872	    118030 ns/op	      8472 qps	         0.04000 recall	    5459 B/op	      11 allocs/op
BenchmarkRecallQPSTradeoff/k=100-14                             	    1562	    147741 ns/op	      6769 qps	         0.07000 recall	   10067 B/op	      11 allocs/op
BenchmarkDeletePerformance/delete-14                            	1000000000	         0.0000583 ns/op	  17142955 deletes/sec	        58.33 ns/delete	       0 B/op	       0 allocs/op
BenchmarkDeletePerformance/search_after_delete-14               	     502	    456020 ns/op	      2193 qps	    4896 B/op	      26 allocs/op
BenchmarkGCPressure-14                                          	1000000000	         0.1219 ns/op	      3570 bytes_alloc/op	         0 gc_cycles	     11036 qps	       0 B/op	      11 allocs/op
BenchmarkBinaryQuantizer_Distance-14                            	37463414	         6.012 ns/op	       0 B/op	       0 allocs/op
BenchmarkSearchOnly/uniform-14                                  	     801	    289392 ns/op	      5000 matches	         0 recall@10	         0.1000 selectivity	   11033 B/op	      80 allocs/op
BenchmarkSearchOnly/realistic-14                                	     237	    924332 ns/op	     28765 matches	         0 recall@10	         0.5753 selectivity	   24550 B/op	      82 allocs/op
BenchmarkSearchOnly/no_filter-14                                	     358	    579171 ns/op	         0 recall@10	   16078 B/op	      38 allocs/op
BenchmarkSearchOnlySelectivity/sel=1%-14                        	    1628	    142668 ns/op	       500.0 matches	         0.01000 selectivity	    5744 B/op	      80 allocs/op
BenchmarkSearchOnlySelectivity/sel=5%-14                        	    1062	    214362 ns/op	      2500 matches	         0.05000 selectivity	    5360 B/op	      80 allocs/op
BenchmarkSearchOnlySelectivity/sel=10%-14                       	     836	    275586 ns/op	      5000 matches	         0.1000 selectivity	    6117 B/op	      80 allocs/op
BenchmarkSearchOnlySelectivity/sel=30%-14                       	     489	    490385 ns/op	     15000 matches	         0.3000 selectivity	    6665 B/op	      80 allocs/op
BenchmarkSearchOnlySelectivity/sel=50%-14                       	     362	    652646 ns/op	     25000 matches	         0.5000 selectivity	    7119 B/op	      80 allocs/op
BenchmarkSearchOnlySelectivity/sel=70%-14                       	     290	    809357 ns/op	     35000 matches	         0.7000 selectivity	    7560 B/op	      80 allocs/op
BenchmarkSearchOnlySelectivity/sel=90%-14                       	     248	    960549 ns/op	     45000 matches	         0.9000 selectivity	    7932 B/op	      80 allocs/op
BenchmarkStorage_ReadRandom/Local_NVMe-14                       	15542154	        15.22 ns/op	       0 B/op	       0 allocs/op
BenchmarkStorage_ReadRandom/Simulated_S3_Direct-14              	       7	  30930435 ns/op	       0 B/op	       0 allocs/op
BenchmarkStorage_ReadRandom/Cached_S3_Warm-14                   	 1176476	       203.3 ns/op	     272 B/op	       4 allocs/op
BenchmarkBuildQuality/n=10000-14                                	       1	 945550792 ns/op	       362.0 build_ms	     27616 build_vecs/sec	         1.000 recall@10	       454.0 search_P50_μs	294081008 B/op	   96418 allocs/op
BenchmarkDimensionScaling/dim=128-14                            	       1	 835848500 ns/op	       451.0 P50_μs	       488.0 P99_μs	       358.0 build_ms	       512.0 bytes/vec_raw	285236800 B/op	   94655 allocs/op
BenchmarkDimensionScaling/dim=768-14                            	       1	 895889541 ns/op	       203.0 P50_μs	      1118 P99_μs	       618.0 build_ms	      3072 bytes/vec_raw	938836144 B/op	   99603 allocs/op
BenchmarkBatchSizeOptimal/batch=100-14                          	       1	1762258667 ns/op	     34234 ns/vec	     29211 vecs/sec	5380552024 B/op	  431614 allocs/op
BenchmarkBatchSizeOptimal/batch=500-14                          	       1	2423390833 ns/op	     47379 ns/vec	     21106 vecs/sec	4451713712 B/op	  375891 allocs/op
BenchmarkBatchSizeOptimal/batch=1000-14                         	       1	3276605333 ns/op	     64252 ns/vec	     15564 vecs/sec	3832988632 B/op	  360691 allocs/op
BenchmarkMixedWorkload/read=50%-14                              	    4107	     90279 ns/op	     11077 ops/sec	      5648 reads/sec	      5429 writes/sec	  117500 B/op	      31 allocs/op
BenchmarkMixedWorkload/read=80%-14                              	    1842	    125532 ns/op	      7966 ops/sec	      6362 reads/sec	      1604 writes/sec	  168828 B/op	      46 allocs/op
BenchmarkMixedWorkload/read=95%-14                              	    3129	     71118 ns/op	     14061 ops/sec	     13333 reads/sec	       728.0 writes/sec	  101304 B/op	      47 allocs/op
BenchmarkMixedWorkload/read=99%-14                              	    3038	     70440 ns/op	     14196 ops/sec	     14061 reads/sec	       135.5 writes/sec	   66852 B/op	      44 allocs/op
BenchmarkBurstWorkload-14                                       	       5	  40801067 ns/op	      9804 qps	28715592 B/op	   12907 allocs/op
BenchmarkReadAfterWrite-14                                      	     433	    781502 ns/op	      1280 ops/sec	    7299 B/op	      27 allocs/op
BenchmarkThroughputUnderLoad-14                                 	     582	    398994 ns/op	     27005 bg_writes/sec	      2506 qps	 1846053 B/op	     170 allocs/op
PASS
ok  	github.com/hupe1980/vecgo/benchmark_test	121.504s
